<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="includes.html :: headCommon ('Users - YouPassed')"></head>

<body>

<div th:with="usersActive='active'" th:insert="includes.html :: navAdmin"></div>

<main class="page catalog-page">
	<section class="clean-block clean-catalog dark">
		<div class="container">
			<div class="block-heading" style="padding-top: 120px">
				<h2 class="text-info">Users List</h2>
			</div>
			<div class="content">
				<div class="table-responsive">
					<table class="table table-sm table-striped">
						<thead>
							<tr>
								<th>ID</th>
								<th>Email</th>
								<th>First Name</th>
								<th>Last Name</th>
								<th>Role</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="user : ${usersPage}">
								<td style="width: 70px;" th:text="${user.id}">id</td>
								<td style="height: 30px;" th:text="${user.email}">asdasdas@sada.df</td>
								<td style="height: 30px;" th:text="${user.firstName}">John</td>
								<td style="height: 30px;" th:text="${user.lastName}">LastNameson</td>
								<td style="height: 30px;width: 100px;" th:text="${user.role}">STUDENT</td>
								<td style="height: 30px;width: 100px;">
									<button class="btn btn-primary" type="button" style="font-size: 14px;padding-bottom: 0px;padding-top: 0px;">Update</button>
								</td>
							</tr>
						<tr></tr>
						</tbody>
					</table>
				</div>
			</div>
<!--	PAGINATION		-->
			<nav th:with="currentViewPath='/admin/users'">
				<ul th:if="${usersPage.totalPages != 1}" class="pagination">
					<li th:class="${usersPage.number == 0} ? 'page-item disabled'" class="page-item">
						<a class="page-link" th:href="@{${currentViewPath}(pageSize=${selectedPageSize}, page=1)}" aria-label="Previous">
							<span aria-hidden="true">&laquo;</span>
						</a>
					</li>
					<li th:class="${usersPage.number == 0} ? 'page-item disabled'" class="page-item">
						<a class="page-link" th:href="@{${currentViewPath}(pageSize=${selectedPageSize}, page=${usersPage.number})}" aria-label="Previous">
							<span aria-hidden="true">&larr;</span>
						</a>
					</li>
					<li class="page-item" th:class="${usersPage.number == (page - 1)} ? 'page-item active'"
					    th:each="page : ${#numbers.sequence(pager.startPage, pager.endPage)}">
						<a class="page-link" th:href="@{${currentViewPath}(pageSize=${selectedPageSize}, page=${page})}" th:text="${page}">1</a>
					</li>
					<li class="page-item" th:class="${usersPage.number >= usersPage.totalPages - 1} ? 'page-item disabled'">
						<a class="page-link" th:href="@{${currentViewPath}(pageSize=${selectedPageSize}, page=${usersPage.number} + 2)}" aria-label="Next">
							<span aria-hidden="true">&rarr;</span>
						</a>
					</li>
					<li class="page-item" th:class="${usersPage.number >= usersPage.totalPages - 1} ? 'page-item disabled'">
						<a class="page-link" th:href="@{${currentViewPath}(pageSize=${selectedPageSize}, page=${usersPage.totalPages})}" aria-label="Next">
							<span aria-hidden="true">&raquo;</span>
						</a>
					</li>
					<div class="form-group col-md-1">
						<select class="form-control pagination" id="pageSizeSelect">
							<option th:each="size : ${pageSizes}" th:text="${size}" th:value="${size}" th:selected="${size} == ${selectedPageSize}"></option>
						</select>
					</div>
				</ul>
			</nav>
<!--	PAGINATION END		-->
		</div>
	</section>
</main>

<div th:replace="includes.html :: footer"></div>

<script th:inline="javascript">
    /*<![CDATA[*/
    $(document).ready(function() {
        changePageAndSize();
    });
    function changePageAndSize() {
        $('#pageSizeSelect').change(function(evt) {
            window.location.replace("users?pageSize=" + this.value + "&page=1");
        });
    }
    /*]]>*/
</script>

</body>
</html>